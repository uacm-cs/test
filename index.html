
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Argumentaci√≥n para la Vida Democr√°tica</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1a365d;
            --secondary: #2c5282;
            --accent: #ed8936;
            --light: #f7fafc;
            --dark: #2d3748;
            --success: #48bb78;
            --warning: #ecc94b;
            --danger: #f56565;
            --gradient-1: #667eea;
            --gradient-2: #764ba2;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0.3;
            animation: moveGrid 20s linear infinite;
        }

        @keyframes moveGrid {
            0% { transform: translate(0, 0); }
            100% { transform: translate(20px, 20px); }
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .progress-bar {
            background: rgba(255,255,255,0.2);
            height: 6px;
            margin-top: 20px;
            border-radius: 3px;
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent);
            width: 0%;
            transition: width 0.5s ease;
        }

        .section {
            background: white;
            margin: 30px 0;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            display: none;
            animation: fadeInUp 0.6s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h2 {
            color: var(--primary);
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 3px solid var(--accent);
            padding-bottom: 10px;
            display: inline-block;
        }

        h3 {
            color: var(--secondary);
            margin: 25px 0 15px 0;
            font-size: 1.4em;
        }

        .intro-text {
            font-size: 1.1em;
            line-height: 1.8;
            color: #4a5568;
            margin-bottom: 20px;
            text-align: justify;
        }

        .highlight-box {
            background: linear-gradient(135deg, #ebf8ff 0%, #bee3f8 100%);
            border-left: 5px solid var(--secondary);
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .tool-card {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tool-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-color: var(--accent);
        }

        .tool-card h4 {
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .icon {
            font-size: 1.5em;
        }

        .input-group {
            margin: 20px 0;
        }

        label {
            display: block;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 8px;
        }

        input[type="text"],
        input[type="url"],
        textarea,
        select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        input[type="text"]:focus,
        input[type="url"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1);
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        .btn {
            display: inline-block;
            padding: 14px 32px;
            background: linear-gradient(135deg, var(--gradient-1) 0%, var(--gradient-2) 100%);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #718096 0%, #4a5568 100%);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success) 0%, #38a169 100%);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--secondary);
            color: var(--secondary);
        }

        .btn-outline:hover {
            background: var(--secondary);
            color: white;
        }

        .option-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .option-card {
            background: white;
            border: 3px solid #e2e8f0;
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option-card:hover {
            border-color: var(--accent);
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        }

        .option-card.selected {
            border-color: var(--success);
            background: #f0fff4;
        }

        .option-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .analysis-form {
            background: #f7fafc;
            padding: 30px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .question-block {
            margin: 25px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border-left: 4px solid var(--accent);
        }

        .question-block label {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 10px;
            display: block;
        }

        .feedback-box {
            background: linear-gradient(135deg, #e6fffa 0%, #b2f5ea 100%);
            border: 2px solid var(--success);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            display: none;
        }

        .feedback-box.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .feedback-box h4 {
            color: #234e52;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feedback-content {
            color: #2d3748;
            line-height: 1.8;
        }

        .strength {
            color: var(--success);
            font-weight: 600;
        }

        .improvement {
            color: var(--danger);
            font-weight: 600;
        }

        .suggestion {
            background: #fffaf0;
            border-left: 4px solid var(--accent);
            padding: 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
        }

        .content-display {
            background: #1a202c;
            color: #e2e8f0;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            max-height: 400px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .timer {
            background: linear-gradient(135deg, var(--accent) 0%, #dd6b20 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 30px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(237, 137, 54, 0.3);
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px solid #e2e8f0;
        }

        .section-indicator {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #cbd5e0;
            transition: all 0.3s ease;
        }

        .dot.active {
            background: var(--accent);
            transform: scale(1.3);
        }

        .dot.completed {
            background: var(--success);
        }

        .final-report {
            background: linear-gradient(135deg, #f0fff4 0%, #c6f6d5 100%);
            border: 3px solid var(--success);
            border-radius: 16px;
            padding: 40px;
            margin: 30px 0;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--success) 0%, #38a169 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
            font-weight: bold;
            margin: 20px auto;
            box-shadow: 0 10px 30px rgba(72, 187, 120, 0.3);
        }

        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #e2e8f0;
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .tip-box {
            background: linear-gradient(135deg, #fef5e7 0%, #fdebd0 100%);
            border: 2px solid #f6e05e;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }

        .tip-box::before {
            content: 'üí°';
            font-size: 2em;
            position: absolute;
            top: -15px;
            left: 20px;
            background: white;
            padding: 0 10px;
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.8em; }
            .section { padding: 25px; }
            .option-cards { grid-template-columns: 1fr; }
        }

        .hidden { display: none; }
       
        .fade-in {
            animation: fadeIn 0.5s ease;
        }
       
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <header>
        <h1>üó£Ô∏è Argumentaci√≥n para la Vida Democr√°tica</h1>
        <p class="subtitle">Herramientas para el an√°lisis cr√≠tico de argumentos</p>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
    </header>

    <div class="container">
        <!-- SECCI√ìN 0: INTRODUCCI√ìN -->
        <section id="section-intro" class="section active">
            <h2>Introducci√≥n</h2>
           
            <div class="intro-text">
                <p>Te proponemos una perspectiva integral derivada del texto <em>"L√≥gica para ciudadanos"</em> de Luis Vega-Re√±√≥n, presentando herramientas potentes para el an√°lisis de cualquier instancia de argumentaci√≥n desde las perspectivas <strong>ret√≥rica, l√≥gica, dial√©ctica y socio-institucional</strong>.</p>
               
                <p>La inclusi√≥n de herramientas de an√°lisis desde todas estas perspectivas tiene por objetivo ayudar a pensar sobre los procesos argumentativos desde una perspectiva m√°s profundamente democr√°tica, al mismo tiempo que nos ayuda a desarrollar capacidades que pueden <strong>demeritar la calidad de la argumentaci√≥n</strong> ya sea por error, enga√±o o autoenga√±o.</p>
               
                <p>Nuestra postura es que una <strong>aut√©ntica vida democr√°tica</strong> requiere de procesos argumentativos que contribuyan a la comprensi√≥n mutua y a la construcci√≥n de acuerdos. Sin embargo, los procesos de socializaci√≥n a los que la mayor√≠a de la poblaci√≥n est√° sujeta son procesos conformados desde perspectivas autoritarias.</p>
               
                <p>As√≠, es crucial conocer perspectivas de an√°lisis y participaci√≥n argumentativa que permitan identificar procesos argumentativos que bloquean la comprensi√≥n y la construcci√≥n de acuerdos.</p>
            </div>

            <div class="highlight-box">
                <strong>üéØ Objetivo:</strong> Conformar ciudadanas y ciudadanos preparados para una convivencia democr√°tica mediante el an√°lisis riguroso de argumentos.
            </div>

            <div class="tip-box">
                <strong>¬øC√≥mo funciona esta aplicaci√≥n?</strong><br>
                Recorrer√°s 4 dimensiones de an√°lisis: Ret√≥rica, L√≥gica, Dial√©ctica y Socio-institucional. En cada una analizar√°s un texto o video usando preguntas gu√≠a espec√≠ficas y recibir√°s retroalimentaci√≥n personalizada.
            </div>

            <div style="text-align: center; margin-top: 40px;">
                <button class="btn" onclick="nextSection()">Comenzar An√°lisis ‚Üí</button>
            </div>
        </section>

        <!-- SECCI√ìN 1: SELECCI√ìN DE CONTENIDO -->
        <section id="section-content" class="section">
            <h2>Selecci√≥n del Material a Analizar</h2>
           
            <p class="intro-text">Elige c√≥mo quieres proporcionar el material que analizar√°s a lo largo de las siguientes secciones:</p>

            <div class="option-cards">
                <div class="option-card" onclick="selectOption('upload')" id="option-upload">
                    <div class="option-icon">üìÑ</div>
                    <h3>Cargar tu propio material</h3>
                    <p>Pega el texto directamente o proporciona una URL de internet (art√≠culo, video de YouTube, noticia, etc.)</p>
                </div>
               
                <div class="option-card" onclick="selectOption('generate')" id="option-generate">
                    <div class="option-icon">üéØ</div>
                    <h3>Generar material sugerido</h3>
                    <p>Define un tema de tu inter√©s y te propondremos un texto o video para analizar</p>
                </div>
            </div>

            <!-- Formulario para opci√≥n 1: Upload -->
            <div id="form-upload" class="hidden">
                <div class="input-group">
                    <label>üìã Pega el texto a analizar:</label>
                    <textarea id="input-text" placeholder="Escribe o pega aqu√≠ el texto que deseas analizar..."></textarea>
                </div>
               
                <div style="text-align: center; margin: 20px 0;">
                    <span style="color: #718096; font-weight: 600;">‚Äî O ‚Äî</span>
                </div>

                <div class="input-group">
                    <label>üåê O proporciona una URL:</label>
                    <input type="url" id="input-url" placeholder="https://ejemplo.com/articulo">
                </div>

                <div class="input-group">
                    <label>üìù T√≠tulo o descripci√≥n breve:</label>
                    <input type="text" id="input-title" placeholder="Ej: Discurso sobre educaci√≥n p√∫blica">
                </div>
            </div>

            <!-- Formulario para opci√≥n 2: Generar -->
            <div id="form-generate" class="hidden">
                <div class="input-group">
                    <label>üéØ Tema de inter√©s:</label>
                    <input type="text" id="input-topic" placeholder="Ej: Cambio clim√°tico, Reforma electoral, Derechos humanos...">
                </div>
               
                <div class="input-group">
                    <label>üì± Tipo de contenido preferido:</label>
                    <select id="content-type">
                        <option value="text">Texto escrito (art√≠culo, ensayo)</option>
                        <option value="video">Video (discurso, entrevista, debate)</option>
                        <option value="mixed">No tengo preferencia</option>
                    </select>
                </div>

                <div class="loading" id="generating-loading">
                    <div class="spinner"></div>
                    <p>Buscando material relevante...</p>
                </div>

                <div id="generated-content" class="hidden">
                    <div class="highlight-box">
                        <strong>üìå Material sugerido:</strong>
                        <div id="suggested-material"></div>
                    </div>
                </div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" onclick="prevSection()">‚Üê Anterior</button>
                <button class="btn" onclick="confirmContent()" id="btn-confirm-content" disabled>Confirmar y Continuar ‚Üí</button>
            </div>
        </section>

        <!-- SECCI√ìN 2: RET√ìRICA -->
        <section id="section-retorica" class="section">
            <h2>üî• An√°lisis Ret√≥rico</h2>
           
            <div class="intro-text">
                <p>Desde la perspectiva ret√≥rica, retomamos la distinci√≥n aristot√©lica entre <strong>persuadir</strong> (uso ileg√≠timo que busca manipular) y <strong>convencer</strong> (proceso de buenas razones para llegar a acuerdos).</p>
               
                <p>Identificaremos tres tipos de estilo argumentativo:</p>
            </div>

            <div class="tool-card">
                <h4><span class="icon">üíî</span> Estilo Pat√©tico</h4>
                <p>Busca mover las emociones del auditorio para lograr persuadirlo. Ejemplos: hacer enojar, sentir culpables, conmover, indignar.</p>
            </div>

            <div class="tool-card">
                <h4><span class="icon">‚öñÔ∏è</span> Estilo Moralista</h4>
                <p>Apela a las costumbres y valores tradicionales del grupo social para persuadir. Usa refranes, citas de textos sagrados, apelaci√≥n a la tradici√≥n.</p>
            </div>

            <div class="tool-card">
                <h4><span class="icon">üß†</span> Estilo L√≥gico</h4>
                <p>Articula secuencias de razonamientos que hacen parecer plausible o veros√≠mil la propuesta del argumentador.</p>
            </div>

            <div class="highlight-box">
                <strong>‚ö†Ô∏è Estrategias socio-institucionales:</strong> La cultura europea moderna impuso estructuras de valor que generan desigualdades. Estamos predispuestos a creer m√°s en hombres, blancos, con traje, con estudios universitarios...
            </div>

            <div class="timer" id="timer-retorica">
                ‚è±Ô∏è Tiempo de reflexi√≥n: <span id="time-retorica">05:00</span>
            </div>

            <div class="analysis-form">
                <h3>üìù Preguntas Gu√≠a para el An√°lisis</h3>
               
                <div class="content-display" id="display-content-retorica">
                    [El contenido seleccionado aparecer√° aqu√≠]
                </div>

                <div class="question-block">
                    <label>1. ¬øQu√© estilo o estilos de argumentaci√≥n utiliza (moralista, pat√©tico o l√≥gico) y en qu√© proporciones?</label>
                    <textarea id="ret-q1" placeholder="Describe qu√© estilos identificas y en qu√© medida se usan cada uno..."></textarea>
                </div>

                <div class="question-block">
                    <label>2. ¬øQu√© estrategias de argumentaci√≥n identificas y con qu√© estilo est√°n relacionadas?</label>
                    <textarea id="ret-q2" placeholder="Menciona estrategias espec√≠ficas como chantaje emocional, apelaci√≥n a la autoridad, uso de refranes, etc."></textarea>
                </div>

                <div class="question-block">
                    <label>3. ¬øIdentificas estrategias para presentarse como persona digna de credibilidad? ¬øCu√°les?</label>
                    <textarea id="ret-q3" placeholder="Vestimenta, t√≠tulos acad√©micos, posici√≥n social, uso de jerga especializada..."></textarea>
                </div>

                <button class="btn btn-success" onclick="submitAnalysis('retorica')">Enviar An√°lisis</button>
            </div>

            <div class="feedback-box" id="feedback-retorica">
                <h4>ü§ñ Retroalimentaci√≥n Inteligente</h4>
                <div class="feedback-content" id="feedback-content-retorica"></div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" onclick="prevSection()">‚Üê Anterior</button>
                <button class="btn hidden" onclick="nextSection()" id="next-retorica">Continuar a L√≥gica ‚Üí</button>
            </div>
        </section>

        <!-- SECCI√ìN 3: L√ìGICA -->
        <section id="section-logica" class="section">
            <h2>üßÆ An√°lisis L√≥gico</h2>
           
            <div class="intro-text">
                <p>Un estilo de argumentaci√≥n l√≥gica requiere de <strong>razonamientos</strong>: estructuras con premisas y conclusiones que proponen que es correcto concluir algo a partir de consideraciones previas.</p>
               
                <p>Reformula los razonamientos con la estructura: <em>"Concluyo ... porque ..."</em></p>
            </div>

            <div class="tool-card">
                <h4><span class="icon">üìê</span> Razonamientos Deductivos</h4>
                <p>Premisas son definiciones, axiomas o suposiciones tomadas axiom√°ticamente. La conclusi√≥n sigue necesariamente de las premisas. Ejemplo: Si 2√ó5=10, entonces 10/5=2.</p>
            </div>

            <div class="tool-card">
                <h4><span class="icon">üìä</span> Razonamientos Inductivos</h4>
                <p>Premisas son casos o datos; conclusiones son probabil√≠sticas. Depende de la completitud y representatividad de los casos. Ejemplo: Varios l√≠deres pidieron guardia personal y se volvieron tiranos, luego quien pida guardia personal aspira a la tiran√≠a.</p>
            </div>

            <div class="tool-card">
                <h4><span class="icon">üí°</span> Razonamientos Abductivos</h4>
                <p>La conclusi√≥n es una hip√≥tesis explicativa. Requiere comparaci√≥n contra hip√≥tesis alternativas. Ejemplo: Dado que los cuerpos celestes orbitan y caen hacia su centro, postulamos una fuerza gravitacional.</p>
            </div>

            <div class="timer" id="timer-logica">
                ‚è±Ô∏è Tiempo de reflexi√≥n: <span id="time-logica">05:00</span>
            </div>

            <div class="analysis-form">
                <h3>üìù Pasos Gu√≠a para la Valoraci√≥n</h3>

                <div class="content-display" id="display-content-logica">
                    [El contenido seleccionado aparecer√° aqu√≠]
                </div>

                <div class="question-block">
                    <label>1. Identifica posibles razonamientos y reform√∫lalos con la estructura "concluyo X porque..."</label>
                    <textarea id="log-q1" placeholder="Ej: Concluyo que se necesita m√°s seguridad porque los √≠ndices delictivos han aumentado un 30% en el √∫ltimo a√±o..."></textarea>
                </div>

                <div class="question-block">
                    <label>2. Identifica el tipo de razonamientos (inductivo, deductivo o abductivo) y explica por qu√© los clasificas as√≠.</label>
                    <textarea id="log-q2" placeholder="Clasifica cada razonamiento identificado y justifica tu clasificaci√≥n..."></textarea>
                </div>

                <div class="question-block">
                    <label>3. Realiza una valoraci√≥n de cada razonamiento usando los criterios pertinentes para su tipo.</label>
                    <textarea id="log-q3" placeholder="¬øLos deductivos son v√°lidos? ¬øLos inductivos tienen datos completos y representativos? ¬øLos abductivos consideran alternativas?"></textarea>
                </div>

                <button class="btn btn-success" onclick="submitAnalysis('logica')">Enviar An√°lisis</button>
            </div>

            <div class="feedback-box" id="feedback-logica">
                <h4>ü§ñ Retroalimentaci√≥n Inteligente</h4>
                <div class="feedback-content" id="feedback-content-logica"></div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" onclick="prevSection()">‚Üê Anterior</button>
                <button class="btn hidden" onclick="nextSection()" id="next-logica">Continuar a Dial√©ctica ‚Üí</button>
            </div>
        </section>

        <!-- SECCI√ìN 4: DIAL√âCTICA -->
        <section id="section-dialectica" class="section">
            <h2>ü§ù An√°lisis Dial√©ctico</h2>
           
            <div class="intro-text">
                <p>La dial√©ctica estudia los procesos de di√°logo. Distinguimos entre:</p>
               
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>Dial√©ctica er√≠stica</strong> (Eris = diosa de la discordia): El objetivo es imponerse al interlocutor. Versi√≥n dominante en la cultura europea debido al colonialismo.</li>
                    <li><strong>Dial√©ctica constructiva</strong>: Busca la comprensi√≥n mutua y la construcci√≥n conjunta de acuerdos.</li>
                </ul>
            </div>

            <div class="highlight-box">
                <strong>Elementos de la dial√©ctica constructiva:</strong><br>
                1. Esfuerzo consciente por <strong>comprenderse</strong> mutuamente<br>
                2. Esfuerzo por <strong>construir conjuntamente</strong> un acuerdo que incorpore los intereses importantes de cada parte
            </div>

            <div class="tool-card">
                <h4><span class="icon">üß©</span> Racionalidad vs. Razonabilidad</h4>
                <p><strong>Racionalidad:</strong> Atenci√≥n a la valoraci√≥n de razonamientos (l√≥gica).<br>
                <strong>Razonabilidad:</strong> Atiende a las particularidades del contexto para buscar comprensi√≥n y acuerdos. No se limita a la racionalidad.</p>
            </div>

            <div class="timer" id="timer-dialectica">
                ‚è±Ô∏è Tiempo de reflexi√≥n: <span id="time-dialectica">05:00</span>
            </div>

            <div class="analysis-form">
                <h3>üìù Pasos Gu√≠a para la Valoraci√≥n</h3>

                <div class="content-display" id="display-content-dialectica">
                    [El contenido seleccionado aparecer√° aqu√≠]
                </div>

                <div class="question-block">
                    <label>1. Para cada participante: ¬øInteract√∫an desde una perspectiva competitiva o cooperativa? ¬øPor qu√©?</label>
                    <textarea id="dia-q1" placeholder="Analiza si buscan imponerse (er√≠stico) o comprenderse (constructivo)..."></textarea>
                </div>

                <div class="question-block">
                    <label>2. ¬øInteract√∫an desde racionalidad o razonabilidad? Explica.</label>
                    <textarea id="dia-q2" placeholder="¬øSe limitan a evaluar razonamientos o atienden al contexto para construir acuerdos?"></textarea>
                </div>

                <div class="question-block">
                    <label>3. ¬øIntentan comprender o refutar a su interlocutor?</label>
                    <textarea id="dia-q3" placeholder="Las preguntas son aut√©nticas (buscan entender) o ret√≥ricas (buscan debilitar)?"></textarea>
                </div>

                <div class="question-block">
                    <label>4. Nota: Incluso en un mon√≥logo, ¬øla persona abre caminos hacia el entendimiento o es er√≠stica?</label>
                    <textarea id="dia-q4" placeholder="Si es un solo hablante, ¬øinvita a la reflexi√≥n conjunta o impone su visi√≥n?"></textarea>
                </div>

                <button class="btn btn-success" onclick="submitAnalysis('dialectica')">Enviar An√°lisis</button>
            </div>

            <div class="feedback-box" id="feedback-dialectica">
                <h4>ü§ñ Retroalimentaci√≥n Inteligente</h4>
                <div class="feedback-content" id="feedback-content-dialectica"></div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" onclick="prevSection()">‚Üê Anterior</button>
                <button class="btn hidden" onclick="nextSection()" id="next-dialectica">Continuar a Socio-institucional ‚Üí</button>
            </div>
        </section>

        <!-- SECCI√ìN 5: SOCIO-INSTITUCIONAL -->
        <section id="section-socio" class="section">
            <h2>üèõÔ∏è An√°lisis Socio-Institucional</h2>
           
            <div class="intro-text">
                <p>Todo proceso argumentativo se da en un <strong>contexto socio-institucional</strong> donde los interlocutores suelen tener diferencias de rango y poder derivadas del cargo, formaci√≥n, ingresos, g√©nero, etnia, entre otras.</p>
               
                <p>En contextos autoritarios, quienes tienen mayor poder aprovechan eso para imponerse. Para una argumentaci√≥n democr√°tica, es indispensable:</p>
               
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>Ser consciente de los propios privilegios y desigualdades</li>
                    <li>No usar esas diferencias como ventaja en el proceso argumentativo</li>
                    <li>Nivelar la interacci√≥n a pesar de las desigualdades estructurales</li>
                </ul>
            </div>

            <div class="timer" id="timer-socio">
                ‚è±Ô∏è Tiempo de reflexi√≥n: <span id="time-socio">05:00</span>
            </div>

            <div class="analysis-form">
                <h3>üìù Pasos Gu√≠a para la Valoraci√≥n</h3>

                <div class="content-display" id="display-content-socio">
                    [El contenido seleccionado aparecer√° aqu√≠]
                </div>

                <div class="question-block">
                    <label>1. An√°lisis del contexto institucional: ¬øQu√© relaciones de poder identificas?</label>
                    <textarea id="soc-q1" placeholder="Cargos, instituciones, recursos econ√≥micos, capital cultural, g√©nero, etnia, edad..."></textarea>
                </div>

                <div class="question-block">
                    <label>2. Para cada participante: ¬øAprovechan las relaciones de poder que les favorecen?</label>
                    <textarea id="soc-q2" placeholder="¬øUsan su posici√≥n, t√≠tulos, recursos para imponerse? ¬øC√≥mo?"></textarea>
                </div>

                <div class="question-block">
                    <label>3. ¬øProcuran nivelar la interacci√≥n a pesar de las desigualdades?</label>
                    <textarea id="soc-q3" placeholder="¬øHay esfuerzos por crear espacios m√°s equitativos de deliberaci√≥n? ¬øCu√°les?"></textarea>
                </div>

                <button class="btn btn-success" onclick="submitAnalysis('socio')">Enviar An√°lisis</button>
            </div>

            <div class="feedback-box" id="feedback-socio">
                <h4>ü§ñ Retroalimentaci√≥n Inteligente</h4>
                <div class="feedback-content" id="feedback-content-socio"></div>
            </div>

            <div class="navigation">
                <button class="btn btn-secondary" onclick="prevSection()">‚Üê Anterior</button>
                <button class="btn hidden" onclick="nextSection()" id="next-socio">Ver Reporte Final ‚Üí</button>
            </div>
        </section>

        <!-- SECCI√ìN 6: REPORTE FINAL -->
        <section id="section-final" class="section">
            <h2>üìä Reporte Final y Recomendaciones</h2>
           
            <div class="final-report">
                <h3 style="text-align: center; color: var(--primary);">Resumen de tu An√°lisis</h3>
               
                <div class="score-circle" id="final-score">85%</div>
               
                <div id="final-summary" style="margin: 30px 0;">
                    <!-- Contenido generado din√°micamente -->
                </div>

                <div class="suggestion">
                    <h4>üéØ Fortalezas identificadas:</h4>
                    <ul id="strengths-list"></ul>
                </div>

                <div class="suggestion">
                    <h4>üìà √Åreas de mejora:</h4>
                    <ul id="improvements-list"></ul>
                </div>
            </div>

            <div class="highlight-box">
                <h3>üöÄ Siguientes pasos para continuar tu desarrollo:</h3>
                <ol style="margin-left: 20px; margin-top: 15px; line-height: 2;">
                    <li><strong>Pr√°ctica constante:</strong> Aplica estas herramientas a discursos pol√≠ticos, noticias y conversaciones cotidianas.</li>
                    <li><strong>Lectura recomendada:</strong> Profundiza en "L√≥gica para ciudadanos" de Luis Vega-Re√±√≥n.</li>
                    <li><strong>Discusi√≥n grupal:</strong> Forma c√≠rculos de an√°lisis donde m√∫ltiples personas eval√∫en los mismos materiales y comparen perspectivas.</li>
                    <li><strong>Autoevaluaci√≥n:</strong> Graba tus propios argumentos y anal√≠zalos con estas mismas herramientas.</li>
                    <li><strong>Diversidad de fuentes:</strong> Analiza materiales de diferentes tradiciones culturales m√°s all√° de la europea moderna.</li>
                </ol>
            </div>

            <div style="text-align: center; margin-top: 40px;">
                <button class="btn" onclick="location.reload()">üîÑ Realizar Nuevo An√°lisis</button>
                <button class="btn btn-outline" onclick="window.print()">üñ®Ô∏è Imprimir Reporte</button>
            </div>
        </section>

        <div class="section-indicator" id="sectionIndicator">
            <div class="dot active"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
    </div>

    <script>
        // Estado de la aplicaci√≥n
        const state = {
            currentSection: 0,
            sections: ['intro', 'content', 'retorica', 'logica', 'dialectica', 'socio', 'final'],
            contentType: null,
            content: '',
            contentTitle: '',
            analysis: {
                retorica: {},
                logica: {},
                dialectica: {},
                socio: {}
            }
        };

        // Contenidos de ejemplo para generaci√≥n
        const exampleContents = {
            'Cambio clim√°tico': {
                text: `DISCURSO: "La crisis clim√°tica es el mayor desaf√≠o de nuestra generaci√≥n. Los cient√≠ficos m√°s prestigiosos del mundo, con doctorados en las mejores universidades, coinciden: si no actuamos ahora, ser√° demasiado tarde.

¬øQu√© clase de mundo le dejaremos a nuestros hijos? ¬øUn planeta devastado, sin recursos, donde luchar√°n por sobrevivir? Como padre, no puedo quedarme de brazos cruzados.

Los datos son claros: temperaturas globales aumentaron 1.1¬∞C desde la era preindustrial. Los glaciares se derriten a ritmos sin precedentes. Los eventos clim√°ticos extremos han aumentado 300% en 50 a√±os.

Por eso propongo: transici√≥n energ√©tica inmediata, inversi√≥n masiva en renovables y penalizaci√≥n severa a contaminadores. Los opositores a estas medidas, financiados por grandes petroleras, prefieren sus ganancias sobre nuestro futuro.

Conf√≠en en quienes tenemos la formaci√≥n t√©cnica y el compromiso moral. Juntos, podemos salvar el planeta."`,
                type: 'text'
            },
            'Reforma electoral': {
                text: `ENTREVISTA TELEVISIVA:

Periodista: ¬øPor qu√© deber√≠a aprobarse esta reforma?

Pol√≠tico: Mire, yo llevo 30 a√±os en la pol√≠tica. He sido gobernador, senador, he visto de todo. La gente est√° cansada de que sus votos no valgan. En mi pueblo natal, la gente humilde, trabajadora, me dice: "Doctor, haga algo".

Adem√°s, el sistema actual favorece a los grandes partidos. ¬øEs justo que un partido con 40% de votos tenga 60% de esca√±os? Mi abuela dec√≠a: "El que parte y reparte, se lleva la mejor parte". As√≠ opera el sistema actual.

Tenemos el respaldo de organizaciones internacionales, de acad√©micos de Harvard, de la ONU. Los estudios demuestran que la representaci√≥n proporcional aumenta la confianza ciudadana.

Quienes se oponen son los mismos de siempre: los que se benefician del statu quo. Les molesta perder sus privilegios. Pero el pueblo manda, y el pueblo quiere cambio.

Yo no busco beneficiarme; ya tengo mi carrera hecha. Lo hago por M√©xico, por nuestra democracia. Los invito a unirse a esta causa hist√≥rica.`,
                type: 'video'
            },
            'Educaci√≥n p√∫blica': {
                text: `ART√çCULO DE OPINI√ìN:

"La educaci√≥n p√∫blica est√° en crisis. Como exsecretario de Educaci√≥n con 15 a√±os de experiencia, debo alertar sobre esta situaci√≥n.

Los n√∫meros no mienten: 60% de los estudiantes no alcanzan niveles b√°sicos de comprensi√≥n lectora. La OCDE ubica a nuestro pa√≠s en los √∫ltimos lugares de evaluaciones internacionales. Cada a√±o que pasa, perdemos competitividad.

¬øLa causa? La falta de inversi√≥n. Mientras otros pa√≠ses invierten el 6% del PIB, nosotros apenas llegamos al 4%. Es matem√°tico: menos recursos = peores resultados.

Pero hay esperanza. En Finlandia, con inversi√≥n adecuada y respeto a los maestros, lograron transformar su sistema. Podemos hacerlo aqu√≠.

Los sindicatos se oponen al cambio, protegiendo plazas de aviadores. Pero los verdaderos maestros, los que se levantan temprano y aman su vocaci√≥n, merecen mejores condiciones y evaluaciones justas.

No podemos permitir que otra generaci√≥n se pierda. Nuestros ni√±os, especialmente los m√°s pobres que solo tienen acceso a la escuela p√∫blica, merecen oportunidades.

Invito a los padres de familia, a los empresarios, a todos los ciudadanos a exigir m√°s inversi√≥n educativa. El futuro de M√©xico depende de ello."`,
                type: 'text'
            }
        };

        // Navegaci√≥n entre secciones
        function showSection(index) {
            document.querySelectorAll('.section').forEach((section, i) => {
                section.classList.toggle('active', i === index);
            });
           
            // Actualizar indicadores
            document.querySelectorAll('.dot').forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
                dot.classList.toggle('completed', i < index);
            });
           
            // Actualizar barra de progreso
            const progress = ((index + 1) / state.sections.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
           
            state.currentSection = index;
           
            // Iniciar timer si es necesario
            if (['retorica', 'logica', 'dialectica', 'socio'].includes(state.sections[index])) {
                startTimer(state.sections[index]);
            }
        }

        function nextSection() {
            if (state.currentSection < state.sections.length - 1) {
                showSection(state.currentSection + 1);
            }
        }

        function prevSection() {
            if (state.currentSection > 0) {
                showSection(state.currentSection - 1);
            }
        }

        // Selecci√≥n de opci√≥n de contenido
        function selectOption(option) {
            state.contentType = option;
           
            document.querySelectorAll('.option-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.getElementById('option-' + option).classList.add('selected');
           
            document.getElementById('form-upload').classList.add('hidden');
            document.getElementById('form-generate').classList.add('hidden');
            document.getElementById('form-' + option).classList.remove('hidden');
           
            document.getElementById('btn-confirm-content').disabled = false;
        }

        // Confirmar contenido
        function confirmContent() {
            if (state.contentType === 'upload') {
                const text = document.getElementById('input-text').value;
                const url = document.getElementById('input-url').value;
                const title = document.getElementById('input-title').value;
               
                if (!text && !url) {
                    alert('Por favor, proporciona un texto o una URL para analizar.');
                    return;
                }
               
                state.content = text || `[URL proporcionada: ${url}]\n\n[Nota: En una implementaci√≥n completa, aqu√≠ se mostrar√≠a el contenido extra√≠do de la URL]`;
                state.contentTitle = title || 'Material proporcionado por el usuario';
            } else {
                const topic = document.getElementById('input-topic').value;
                if (!topic) {
                    alert('Por favor, define un tema de inter√©s.');
                    return;
                }
               
                // Simular generaci√≥n de contenido
                document.getElementById('generating-loading').classList.add('show');
               
                setTimeout(() => {
                    document.getElementById('generating-loading').classList.remove('show');
                   
                    // Buscar contenido relacionado o usar gen√©rico
                    const content = exampleContents[topic] || {
                        text: `MATERIAL SOBRE: ${topic}\n\n[Se ha generado un material de ejemplo sobre ${topic}. En una implementaci√≥n completa con API, aqu√≠ se buscar√≠a contenido real relacionado con este tema.]\n\n"El tema de ${topic} es fundamental para nuestra sociedad. Los expertos coinciden en que requiere atenci√≥n urgente. Los datos muestran tendencias preocupantes que debemos abordar colectivamente. Sin embargo, existen visiones encontradas sobre c√≥mo proceder, y es crucial analizar los argumentos de todas las partes con rigor democr√°tico."`,
                        type: 'text'
                    };
                   
                    state.content = content.text;
                    state.contentTitle = `Material sobre: ${topic}`;
                   
                    document.getElementById('suggested-material').innerHTML = `
                        <strong>${state.contentTitle}</strong><br>
                        <small>Tipo: ${content.type === 'video' ? 'üé• Video' : 'üìÑ Texto'}</small>
                        <div style="margin-top: 10px; padding: 10px; background: #f7fafc; border-radius: 5px; font-size: 0.9em;">
                            ${content.text.substring(0, 200)}...
                        </div>
                    `;
                    document.getElementById('generated-content').classList.remove('hidden');
                }, 1500);
               
                return; // Esperar a la generaci√≥n
            }
           
            updateContentDisplays();
            nextSection();
        }

        function updateContentDisplays() {
            const displays = ['retorica', 'logica', 'dialectica', 'socio'];
            displays.forEach(section => {
                const display = document.getElementById('display-content-' + section);
                if (display) {
                    display.textContent = `üìå ${state.contentTitle}\n\n${state.content}`;
                }
            });
        }

        // Timer
        let timerInterval;
        function startTimer(section) {
            clearInterval(timerInterval);
            let timeLeft = 300; // 5 minutos en segundos
           
            const timerElement = document.getElementById('time-' + section);
            if (!timerElement) return;
           
            function updateTimer() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
               
                if (timeLeft > 0) {
                    timeLeft--;
                } else {
                    clearInterval(timerInterval);
                }
            }
           
            updateTimer();
            timerInterval = setInterval(updateTimer, 1000);
        }

        // An√°lisis y retroalimentaci√≥n
        function submitAnalysis(section) {
            const responses = {};
            let qIndex = 1;
           
            while (document.getElementById(`${section.substring(0, 3)}-q${qIndex}`)) {
                responses[`q${qIndex}`] = document.getElementById(`${section.substring(0, 3)}-q${qIndex}`).value;
                qIndex++;
            }
           
            // Verificar que haya respuestas
            const hasResponses = Object.values(responses).some(r => r.trim().length > 0);
            if (!hasResponses) {
                alert('Por favor, responde al menos una pregunta antes de enviar.');
                return;
            }
           
            state.analysis[section] = responses;
           
            // Generar retroalimentaci√≥n
            const feedback = generateFeedback(section, responses);
           
            document.getElementById(`feedback-content-${section}`).innerHTML = feedback;
            document.getElementById(`feedback-${section}`).classList.add('show');
           
            // Mostrar bot√≥n de continuar
            document.getElementById(`next-${section}`).classList.remove('hidden');
           
            // Scroll a la retroalimentaci√≥n
            document.getElementById(`feedback-${section}`).scrollIntoView({ behavior: 'smooth' });
        }

        function generateFeedback(section, responses) {
            const feedbacks = {
                retorica: () => {
                    let analysis = '<p><strong>An√°lisis de tus respuestas:</strong></p>';
                   
                    const r1 = responses.q1 || '';
                    const r2 = responses.q2 || '';
                    const r3 = responses.q3 || '';
                   
                    // An√°lisis de estilos
                    if (r1.toLowerCase().includes('pat√©tico') || r1.toLowerCase().includes('emocional')) {
                        analysis += '<p>‚úÖ <span class="strength">Bien identificado el componente pat√©tico.</span> Reconocer las apelaciones emocionales es crucial para detectar intentos de manipulaci√≥n.</p>';
                    }
                    if (r1.toLowerCase().includes('moralista') || r1.toLowerCase().includes('valores')) {
                        analysis += '<p>‚úÖ <span class="strength">Correcta identificaci√≥n del estilo moralista.</span> Las apelaciones a la tradici√≥n y valores pueden cerrar el di√°logo al presentarlos como innegociables.</p>';
                    }
                    if (r1.toLowerCase().includes('l√≥gico') || r1.toLowerCase().includes('razonamiento')) {
                        analysis += '<p>‚úÖ <span class="strength">Buena observaci√≥n del estilo l√≥gico.</span> Aunque recuerda que "parecer l√≥gico" no es lo mismo que ser v√°lido l√≥gicamente.</p>';
                    }
                   
                    // An√°lisis de estrategias
                    if (r2.length > 50) {
                        analysis += '<p>‚úÖ <span class="strength">Has identificado estrategias espec√≠ficas.</span> ';
                        if (r2.toLowerCase().includes('autoridad')) {
                            analysis += 'Notaste la apelaci√≥n a la autoridad, que es una estrategia com√∫n para evitar el debate sobre el m√©rito real de los argumentos.';
                        } else if (r2.toLowerCase().includes('miedo') || r2.toLowerCase().includes('amenaza')) {
                            analysis += 'Detectaste el uso del miedo como herramienta de persuasi√≥n, lo cual bloquea la deliberaci√≥n racional.';
                        } else {
                            analysis += 'El detalle en tus observaciones demuestra buena capacidad anal√≠tica.';
                        }
                        analysis += '</p>';
                    } else {
                        analysis += '<p>‚ö†Ô∏è <span class="improvement">Intenta ser m√°s espec√≠fico en las estrategias.</span> Menciona ejemplos concretos del texto que ilustren tus observaciones.</p>';
                    }
                   
                    // An√°lisis de credibilidad
                    if (r3.toLowerCase().includes('traje') || r3.toLowerCase().includes('t√≠tulo') || r3.toLowerCase().includes('doctor')) {
                        analysis += '<p>‚úÖ <span class="strength">Excelente observaci√≥n sobre marcadores de estatus.</span> Estos son mecanismos sutiles pero poderosos de persuasi√≥n que refuerzan desigualdades estructurales.</p>';
                    }
                   
                    analysis += '<div class="suggestion"><strong>üí° Sugerencia:</strong> ';
                    analysis += 'Para profundizar, compara: ¬øEl texto busca que <em>aceptes</em> sus conclusiones por la autoridad/emoci√≥n, o te invita a <em>comprender</em> sus razones y construir juntos un acuerdo?</div>';
                   
                    return analysis;
                },
               
                logica: () => {
                    let analysis = '<p><strong>Evaluaci√≥n de razonamientos:</strong></p>';
                   
                    const r1 = responses.q1 || '';
                    const r2 = responses.q2 || '';
                    const r3 = responses.q3 || '';
                   
                    if (r1.includes('concluyo') || r1.includes('porque')) {
                        analysis += '<p>‚úÖ <span class="strength">Buena reformulaci√≥n de razonamientos.</span> Esta estructura clara permite evaluar la fuerza de la inferencia.</p>';
                    } else {
                        analysis += '<p>‚ö†Ô∏è <span class="improvement">Intenta reformular expl√≠citamente usando "Concluyo X porque Y".</span> Esto facilita identificar premisas y conclusiones.</p>';
                    }
                   
                    if (r2.toLowerCase().includes('inductiv')) {
                        analysis += '<p>‚úÖ <span class="strength">Identificaci√≥n de razonamiento inductivo.</span> Recuerda verificar: ¬ølos casos son suficientes? ¬ørepresentativos? ¬øhay casos contrarios ignorados?</p>';
                    }
                    if (r2.toLowerCase().includes('deductiv')) {
                        analysis += '<p>‚úÖ <span class="strength">Reconocimiento de razonamiento deductivo.</span> Verifica que las premisas sean realmente aceptadas y que la forma sea v√°lida.</p>';
                    }
                    if (r2.toLowerCase().includes('abductiv') || r2.toLowerCase().includes('hip√≥tesis')) {
                        analysis += '<p>‚úÖ <span class="strength">Detecci√≥n de razonamiento abductivo.</span> Este es el m√°s complejo: ¬øse consideraron hip√≥tesis alternativas explicativas?</p>';
                    }
                   
                    if (r3.length > 100) {
                        analysis += '<p>‚úÖ <span class="strength">Valoraci√≥n detallada.</span> Tu an√°lisis cr√≠tico de la calidad de los razonamientos es esencial para una democracia informada.</p>';
                    }
                   
                    analysis += '<div class="suggestion"><strong>üí° Consejo:</strong> ';
                    analysis += 'En argumentaci√≥n p√∫blica, los razonamientos inductivos son comunes pero riesgosos por la <em>generalizaci√≥n apresurada</em>. Preg√∫ntate siempre: "¬øEs suficiente la evidencia para esta conclusi√≥n general?"</div>';
                   
                    return analysis;
                },
               
                dialectica: () => {
                    let analysis = '<p><strong>An√°lisis del proceso dial√≥gico:</strong></p>';
                   
                    const r1 = responses.q1 || '';
                    const r2 = responses.q2 || '';
                    const r3 = responses.q3 || '';
                   
                    if (r1.toLowerCase().includes('competitiv') || r1.toLowerCase().includes('er√≠stic')) {
                        analysis += '<p>‚úÖ <span class="strength">Identificaste la l√≥gica de imposici√≥n.</span> Este tipo de dial√©ctica busca "ganar" m√°s que entender, caracter√≠stica de contextos autoritarios.</p>';
                    } else if (r1.toLowerCase().includes('cooperativ') || r1.toLowerCase().includes('constructiv')) {
                        analysis += '<p>‚úÖ <span class="strength">Reconocimiento de dial√©ctica constructiva.</span> Esto busca comprensi√≥n mutua y acuerdos compartidos.</p>';
                    }
                   
                    if (r2.toLowerCase().includes('razonabilidad')) {
                        analysis += '<p>‚úÖ <span class="strength">Distinci√≥n importante entre racionalidad y razonabilidad.</span> La razonabilidad atiende al contexto y busca acuerdos, no solo evaluar razonamientos.</p>';
                    }
                   
                    if (r3.toLowerCase().includes('comprender') || r3.toLowerCase().includes('entender')) {
                        analysis += '<p>‚úÖ <span class="strength">Enfoque en la comprensi√≥n.</span> Las preguntas aut√©nticas buscan resolver dudas, no debilitar al otro.</p>';
                    } else if (r3.toLowerCase().includes('refutar') || r3.toLowerCase().includes('destruir')) {
                        analysis += '<p>‚úÖ <span class="strength">Detectaste la l√≥gica de refutaci√≥n.</span> Esto suele ir acompa√±ado de preguntas ret√≥ricas dise√±adas para hacer quedar mal al otro.</p>';
                    }
                   
                    analysis += '<div class="suggestion"><strong>üí° Reflexi√≥n:</strong> ';
                    analysis += 'La verdadera democracia requiere dial√©ctica constructiva. Cuando observes un debate, pregunta: "¬øAqu√≠ se busca la verdad conjunta o la victoria de uno sobre otro?"</div>';
                   
                    return analysis;
                },
               
                socio: () => {
                    let analysis = '<p><strong>An√°lisis de poder e instituciones:</strong></p>';
                   
                    const r1 = responses.q1 || '';
                    const r2 = responses.q2 || '';
                    const r3 = responses.q3 || '';
                   
                    if (r1.toLowerCase().includes('g√©nero') || r1.toLowerCase().includes('etnia') || r1.toLowerCase().includes('clase') || r1.toLowerCase().includes('econ√≥mico')) {
                        analysis += '<p>‚úÖ <span class="strength">Identificaci√≥n de ejes estructurales de desigualdad.</span> Estas dimensiones moldean qui√©n es escuchado y qui√©n puede imponerse.</p>';
                    }
                   
                    if (r1.toLowerCase().includes('cargo') || r1.toLowerCase().includes('t√≠tulo') || r1.toLowerCase().includes('instituci√≥n')) {
                        analysis += '<p>‚úÖ <span class="strength">Reconocimiento de capital institucional.</span> Los cargos y t√≠tulos otorgan autoridad performativa en los discursos.</p>';
                    }
                   
                    if (r2.toLowerCase().includes('s√≠') || r2.toLowerCase().includes('aprovecha') || r2.toLowerCase().includes('usa')) {
                        analysis += '<p>‚ö†Ô∏è <span class="improvement">Uso de privilegios detectado.</span> Esto es caracter√≠stico de argumentaci√≥n autoritaria donde el poder se usa para imponerse, no para nivelar.</p>';
                    } else if (r2.toLowerCase().includes('no') || r2.toLowerCase().includes('evita')) {
                        analysis += '<p>‚úÖ <span class="strength">Neutralizaci√≥n de ventajas.</span> Esto es signo de argumentaci√≥n democr√°tica genuina.</p>';
                    }
                   
                    if (r3.toLowerCase().includes('nivelar') || r3.toLowerCase().includes('equidad') || r3.toLowerCase().includes('inclusi√≥n')) {
                        analysis += '<p>‚úÖ <span class="strength">Esfuerzo democr√°tico identificado.</span> Nivelar la interacci√≥n es indispensable para la deliberaci√≥n justa.</p>';
                    }
                   
                    analysis += '<div class="suggestion"><strong>üí° Recordatorio:</strong> ';
                    analysis += 'Ser consciente de nuestros propios privilegios es el primer paso. La pregunta clave es: "¬øEstoy usando mi posici√≥n para facilitar el di√°logo o para silenciar voces?"</div>';
                   
                    return analysis;
                }
            };
           
            return feedbacks[section] ? feedbacks[section]() : '<p>Gracias por tu an√°lisis. Revisa tus respuestas y compara con el material.</p>';
        }

        // Reporte final
        function generateFinalReport() {
            const sections = ['retorica', 'logica', 'dialectica', 'socio'];
            const strengths = [];
            const improvements = [];
            let totalScore = 0;
           
            sections.forEach(section => {
                const analysis = state.analysis[section];
                if (!analysis) return;
               
                const responses = Object.values(analysis);
                const hasContent = responses.some(r => r && r.trim().length > 50);
               
                if (hasContent) {
                    totalScore += 25; // 25 puntos por secci√≥n completada
                   
                    // Detectar fortalezas seg√∫n contenido
                    if (section === 'retorica' && responses[0] && responses[0].toLowerCase().includes('pat√©tico')) {
                        strengths.push('Capacidad para identificar manipulaci√≥n emocional en discursos');
                    }
                    if (section === 'logica' && responses[1] && responses[1].toLowerCase().includes('inductiv')) {
                        strengths.push('Comprensi√≥n de diferentes tipos de razonamiento');
                    }
                    if (section === 'dialectica' && responses[2] && responses[2].toLowerCase().includes('comprender')) {
                        strengths.push('Sensibilidad hacia procesos dial√≥gicos constructivos');
                    }
                    if (section === 'socio' && responses[0] && (responses[0].toLowerCase().includes('g√©nero') || responses[0].toLowerCase().includes('poder'))) {
                        strengths.push('Conciencia sobre dimensiones estructurales de desigualdad');
                    }
                }
            });
           
            // Sugerencias de mejora
            if (!strengths.includes('Capacidad para identificar manipulaci√≥n emocional en discursos')) {
                improvements.push('Practica m√°s la identificaci√≥n de estrategias pat√©ticas y moralistas');
            }
            if (!strengths.includes('Comprensi√≥n de diferentes tipos de razonamiento')) {
                improvements.push('Profundiza en la distinci√≥n entre razonamientos deductivos, inductivos y abductivos');
            }
            if (!strengths.includes('Sensibilidad hacia procesos dial√≥gicos constructivos')) {
                improvements.push('Desarrolla m√°s la capacidad de distinguir dial√©ctica er√≠stica de constructiva');
            }
            if (!strengths.includes('Conciencia sobre dimensiones estructurales de desigualdad')) {
                improvements.push('Fortalece el an√°lisis de relaciones de poder en contextos institucionales');
            }
           
            // A√±adir fortalezas gen√©ricas si es necesario
            if (strengths.length === 0) {
                strengths.push('Compromiso con el an√°lisis riguroso de argumentos');
                strengths.push('Inter√©s en desarrollar pensamiento cr√≠tico democr√°tico');
            }
           
            // Actualizar UI
            document.getElementById('final-score').textContent = totalScore + '%';
           
            const summaryHTML = `
                <p style="text-align: center; font-size: 1.1em; color: #4a5568;">
                    Has completado el an√°lisis integral de argumentaci√≥n desde las cuatro perspectivas:<br>
                    <strong>Ret√≥rica, L√≥gica, Dial√©ctica y Socio-institucional.</strong>
                </p>
                <p style="text-align: center; margin-top: 15px;">
                    Material analizado: <em>${state.contentTitle}</em>
                </p>
            `;
            document.getElementById('final-summary').innerHTML = summaryHTML;
           
            const strengthsList = document.getElementById('strengths-list');
            strengthsList.innerHTML = strengths.map(s => `<li>${s}</li>`).join('');
           
            const improvementsList = document.getElementById('improvements-list');
            improvementsList.innerHTML = improvements.map(i => `<li>${i}</li>`).join('');
        }

        // Modificar nextSection para generar reporte al final
        const originalNextSection = nextSection;
        nextSection = function() {
            if (state.currentSection === 5) { // Antes de ir a final
                generateFinalReport();
            }
            originalNextSection();
        };

        // Inicializar
        showSection(0);
    </script>
</body>
</html>
